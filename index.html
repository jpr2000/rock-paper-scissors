<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        "use strict";
        function computerPlay() {
            let randomInt = randomNumber();
            return (randomInt == 0) ? "Rock" :
                (randomInt == 1) ? "Paper" :
                "Scissors";
        }

        function randomNumber() {
            return Math.floor(Math.random() * 3);
        }

        function getUserChoice() {
            let userInput = prompt("What is your choice?");
            while (interpretUserInput(userInput) == "") {
                userInput = prompt("Incorrect entry. What is your choice?");
            }
            return interpretUserInput(userInput);
        }

        function interpretUserInput(userInput) {
            if (userInput.match(/rock/i)) return "Rock";
            else if (userInput.match(/paper/i)) return "Paper";
            else if (userInput.match(/Scissors/i)) return "Scissors";
            else return "";
        }

        // Returns an array with message to display and results
        function determineWinner(playerSelection, computerSelection) {
            if (playerSelection == "Rock") {
                if (computerSelection == "Scissors") {
                    console.log("You Win! Rock beats Scissors");
                    return "Player";
                }
                else if (computerSelection == "Paper") {
                    console.log("You Lose! Paper beats Rock");
                    return "Computer";
                }
                else {
                    console.log("You Tie!");
                }
            }

            if (playerSelection == "Paper") {
                if (computerSelection == "Scissors") {
                    console.log("You Lose! Scissors beats Paper");
                    return "Computer";
                }
                else if (computerSelection == "Rock") {
                    console.log("You Win! Paper beats Rock");
                    return "Player";
                }
                else {
                    console.log("You Tie!");
                }
            }

            if (playerSelection == "Scissors") {
                if (computerSelection == "Paper") {
                    console.log("You Win! Scissors beats Paper");
                    return "Player";
                }
                else if (computerSelection == "Rock") {
                    console.log("You Lose! Rock beats Scissors");
                    return "Computer";
                }
                else {
                    console.log("You Tie!");
                }
            }
        }

        function singleRound() {
            return determineWinner(getUserChoice(), computerPlay());
        }

        function game() {
            let playerScore = 0;
            let computerScore = 0;

            while(playerScore < 3 && computerScore < 3) {
                let roundWinner = singleRound();

                if (roundWinner == "Player") playerScore++;
                else if (roundWinner == "Computer") computerScore++;

                console.log(`Player ${playerScore} : ${computerScore} Computer`);
            }

            return (playerScore == 3) ? "You Won! Nice job!" :
                   (computerScore == 3) ? "You Lost! Get 'em next time!" :
                   "";
        }

        
    </script>
</body>
</html>