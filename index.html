<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        "use strict";
        function computerPlay() {
            let randomInt = randomNumber();
            return (randomInt == 0) ? "Rock" :
                (randomInt == 1) ? "Paper" :
                "Scissors";
        }

        function randomNumber() {
            return Math.floor(Math.random() * 3);
        }

        function getUserChoice() {
            let userInput = prompt("What is your choice?");
            while (interpretUserInput(userInput) == "") {
                userInput = prompt("Incorrect entry. What is your choice?");
            }
            return interpretUserInput(userInput);
        }

        function interpretUserInput(userInput) {
            if (userInput.match(/rock/i)) return "Rock";
            else if (userInput.match(/paper/i)) return "Paper";
            else if (userInput.match(/Scissors/i)) return "Scissors";
            else return "";
        }

        function winLogic(playerSelection, computerSelection) {
            if (playerSelection == "Rock") {
                return (computerSelection == "Scissors") ? ["You Win! Rock beats Scissors", "Player"] :
                       (computerSelection == "Paper") ? ["You Lose! Paper beats Rock", "Computer"] :
                       ["You Tie!", "Tie"];
            }
            if (playerSelection == "Paper") {
                return (computerSelection == "Scissors") ? ["You Lose! Scissors beats Paper", "Computer"] :
                       (computerSelection == "Rock") ? ["You Win! Paper beats Rock", "Player"] :
                       ["You Tie!", "Tie"];
            }
            if (playerSelection == "Scissors") {
                return (computerSelection == "Paper") ? ["You Win! Scissors beats Paper", "Player" ] :
                       (computerSelection == "Rock") ? ["You Lose! Rock beats Scissors", "Computer"] :
                       ["You Tie!", "Tie"];
            }
        }

        function singleRound() {
            let results = winLogic(getUserChoice(), computerPlay());
            console.log(results[0]);
            return results[1];

        }

        function game() {
            let playerScore = 0;
            let computerScore = 0;

            while(playerScore < 3 && computerScore < 3) {
                let roundWinner = singleRound();

                if (roundWinner == "Player") playerScore++;
                else if (roundWinner == "Computer") computerScore++;

                console.log(`Player ${playerScore} : ${computerScore} Computer`);
            }

            return (playerScore == 3) ? "You Won! Nice job!" :
                   (computerScore == 3) ? "You Lost! Get 'em next time!" :
                   "";
        }

        
    </script>
</body>
</html>